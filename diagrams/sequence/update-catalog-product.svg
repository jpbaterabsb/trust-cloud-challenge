<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="650px" preserveAspectRatio="none" style="width:1289px;height:650px;background:#FFFFFF;" version="1.1" viewBox="0 0 1289 650" width="1289px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="26.2969" id="_title" style="stroke:none;stroke-width:1.0;" width="378" x="457" y="10"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="368" x="462" y="27.9951">Updating a Catalog Product Sequence Diagram</text><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="27" x2="27" y1="118.5938" y2="569.3203"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="332" x2="332" y1="118.5938" y2="569.3203"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="828.5" x2="828.5" y1="118.5938" y2="569.3203"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1248" x2="1248" y1="118.5938" y2="569.3203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="5" y="115.292">Client</text><ellipse cx="27.5" cy="50.7969" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M27.5,58.7969 L27.5,85.7969 M14.5,66.7969 L40.5,66.7969 M27.5,85.7969 L14.5,100.7969 M27.5,85.7969 L40.5,100.7969 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="5" y="581.3154">Client</text><ellipse cx="27.5" cy="593.1172" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M27.5,601.1172 L27.5,628.1172 M14.5,609.1172 L40.5,609.1172 M27.5,628.1172 L14.5,643.1172 M27.5,628.1172 L40.5,643.1172 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="133" x="266" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="273" y="107.292">CatalogController</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="133" x="266" y="568.3203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="273" y="588.3154">CatalogController</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="770.5" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="777.5" y="107.292">CatalogService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="770.5" y="568.3203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="777.5" y="588.3154">CatalogService</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="1209" y="115.292">CatalogDB</text><path d="M1230.5,66.2969 C1230.5,56.2969 1248.5,56.2969 1248.5,56.2969 C1248.5,56.2969 1266.5,56.2969 1266.5,66.2969 L1266.5,92.2969 C1266.5,102.2969 1248.5,102.2969 1248.5,102.2969 C1248.5,102.2969 1230.5,102.2969 1230.5,92.2969 L1230.5,66.2969 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1230.5,66.2969 C1230.5,76.2969 1248.5,76.2969 1248.5,76.2969 C1248.5,76.2969 1266.5,76.2969 1266.5,66.2969 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="1209" y="581.3154">CatalogDB</text><path d="M1230.5,594.6172 C1230.5,584.6172 1248.5,584.6172 1248.5,584.6172 C1248.5,584.6172 1266.5,584.6172 1266.5,594.6172 L1266.5,620.6172 C1266.5,630.6172 1248.5,630.6172 1248.5,630.6172 C1248.5,630.6172 1230.5,630.6172 1230.5,620.6172 L1230.5,594.6172 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1230.5,594.6172 C1230.5,604.6172 1248.5,604.6172 1248.5,604.6172 C1248.5,604.6172 1266.5,604.6172 1266.5,594.6172 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><polygon fill="#181818" points="320.5,145.7266,330.5,149.7266,320.5,153.7266,324.5,149.7266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="27.5" x2="326.5" y1="149.7266" y2="149.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="281" x="34.5" y="144.6606">PUT /catalogs/:catalogId/products/:productId</text><polygon fill="#181818" points="816.5,174.8594,826.5,178.8594,816.5,182.8594,820.5,178.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="332.5" x2="822.5" y1="178.8594" y2="178.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="472" x="339.5" y="173.7935">updateCatalogProduct(catalogId, user, productId, addCatalogProductDTO)</text><polygon fill="#181818" points="1236.5,203.9922,1246.5,207.9922,1236.5,211.9922,1240.5,207.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="828.5" x2="1242.5" y1="207.9922" y2="207.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="835.5" y="202.9263">findById(catalogId)</text><polygon fill="#181818" points="839.5,233.125,829.5,237.125,839.5,241.125,835.5,237.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="833.5" x2="1247.5" y1="237.125" y2="237.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="845.5" y="232.0591">Catalog Data</text><line style="stroke:#181818;stroke-width:1.0;" x1="828.5" x2="870.5" y1="266.2578" y2="266.2578"/><line style="stroke:#181818;stroke-width:1.0;" x1="870.5" x2="870.5" y1="266.2578" y2="279.2578"/><line style="stroke:#181818;stroke-width:1.0;" x1="829.5" x2="870.5" y1="279.2578" y2="279.2578"/><polygon fill="#181818" points="839.5,275.2578,829.5,279.2578,839.5,283.2578,835.5,279.2578" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="388" x="835.5" y="261.1919">check if catalog exists and if user has necessary permissions</text><polygon fill="#181818" points="1236.5,304.3906,1246.5,308.3906,1236.5,312.3906,1240.5,308.3906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="828.5" x2="1242.5" y1="308.3906" y2="308.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="835.5" y="303.3247">findUnique(id)</text><polygon fill="#181818" points="839.5,333.5234,829.5,337.5234,839.5,341.5234,835.5,337.5234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="833.5" x2="1247.5" y1="337.5234" y2="337.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="845.5" y="332.4575">Product Data</text><line style="stroke:#181818;stroke-width:1.0;" x1="828.5" x2="870.5" y1="366.6563" y2="366.6563"/><line style="stroke:#181818;stroke-width:1.0;" x1="870.5" x2="870.5" y1="366.6563" y2="379.6563"/><line style="stroke:#181818;stroke-width:1.0;" x1="829.5" x2="870.5" y1="379.6563" y2="379.6563"/><polygon fill="#181818" points="839.5,375.6563,829.5,379.6563,839.5,383.6563,835.5,379.6563" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="835.5" y="361.5903">check if product exists</text><line style="stroke:#181818;stroke-width:1.0;" x1="828.5" x2="870.5" y1="408.7891" y2="408.7891"/><line style="stroke:#181818;stroke-width:1.0;" x1="870.5" x2="870.5" y1="408.7891" y2="421.7891"/><line style="stroke:#181818;stroke-width:1.0;" x1="829.5" x2="870.5" y1="421.7891" y2="421.7891"/><polygon fill="#181818" points="839.5,417.7891,829.5,421.7891,839.5,425.7891,835.5,421.7891" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="406" x="835.5" y="403.7231">validateCatalogProductParameters(catalogId, userId, productId)</text><line style="stroke:#181818;stroke-width:1.0;" x1="828.5" x2="870.5" y1="450.9219" y2="450.9219"/><line style="stroke:#181818;stroke-width:1.0;" x1="870.5" x2="870.5" y1="450.9219" y2="463.9219"/><line style="stroke:#181818;stroke-width:1.0;" x1="829.5" x2="870.5" y1="463.9219" y2="463.9219"/><polygon fill="#181818" points="839.5,459.9219,829.5,463.9219,839.5,467.9219,835.5,463.9219" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="360" x="835.5" y="445.856">createOrUpdateCatalogProduct(addCatalogProductDTO)</text><polygon fill="#181818" points="1236.5,489.0547,1246.5,493.0547,1236.5,497.0547,1240.5,493.0547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="828.5" x2="1242.5" y1="493.0547" y2="493.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="241" x="835.5" y="487.9888">upsertCatalogProduct(persistProduct)</text><polygon fill="#181818" points="839.5,518.1875,829.5,522.1875,839.5,526.1875,835.5,522.1875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="833.5" x2="1247.5" y1="522.1875" y2="522.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="845.5" y="517.1216">Catalog Product Data</text><polygon fill="#181818" points="343.5,547.3203,333.5,551.3203,343.5,555.3203,339.5,551.3203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="337.5" x2="827.5" y1="551.3203" y2="551.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="349.5" y="546.2544">updated catalog product data</text><!--MD5=[97b426cd316c50e234b6293124e78a52]
@startuml
title Updating a Catalog Product Sequence Diagram

actor Client
participant CatalogController
participant CatalogService
database CatalogDB

Client -> CatalogController: PUT /catalogs/:catalogId/products/:productId
CatalogController -> CatalogService: updateCatalogProduct(catalogId, user, productId, addCatalogProductDTO)
CatalogService -> CatalogDB: findById(catalogId)
CatalogDB - -> CatalogService: Catalog Data
CatalogService -> CatalogService: check if catalog exists and if user has necessary permissions
CatalogService -> CatalogDB: findUnique(id)
CatalogDB - -> CatalogService: Product Data
CatalogService -> CatalogService: check if product exists
CatalogService -> CatalogService: validateCatalogProductParameters(catalogId, userId, productId)
CatalogService -> CatalogService: createOrUpdateCatalogProduct(addCatalogProductDTO)
CatalogService -> CatalogDB: upsertCatalogProduct(persistProduct)
CatalogDB - -> CatalogService: Catalog Product Data
CatalogService - -> CatalogController: updated catalog product data
@enduml

PlantUML version 1.2022.7(Mon Aug 22 17:01:30 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>